plugins {
    id 'com.github.ben-manes.versions' version '0.20.0'
    id 'com.gradle.plugin-publish' version '0.10.0'
    id 'java-gradle-plugin'
    id 'groovy'
    id 'maven-publish'
}

repositories {
    jcenter()
    google()
}

apply from: 'gradle/dependencies.gradle'

sourceCompatibility = 1.8
targetCompatibility = 1.8

dependencies {
    implementation localGroovy()

    testImplementation deps.android.tools.build.gradle
    testImplementation deps.spock, { exclude module: 'groovy-all' } // Use localGroovy()
}

group 'org.checkerframework'
version '0.3.4'

gradlePlugin {
    plugins {
        checkerframeworkPlugin {
            id = 'org.checkerframework'
            displayName = 'Checker Framework Gradle Plugin'
            description = 'Re-usable build logic for extending the Java type system via the Checker Framework,' +
                    ' for Gradle builds'
            implementationClass = 'org.checkerframework.gradle.plugin.CheckerFrameworkPlugin'
        }
    }
}

pluginBundle {
    website = 'https://checkerframework.org'
    vcsUrl = 'https://github.com/kelloggm/checkerframework-gradle-plugin'
    tags = ['checkerframework', 'checker', 'typechecker', 'pluggable types']
}

apply from: 'gradle/compile.gradle'
